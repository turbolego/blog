<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Admin Panel</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			text-align: center;
			margin-top: 20%;
		}

		button {
			padding: 10px 20px;
			font-size: 16px;
			background-color: #0073e6;
			color: white;
			border: none;
			border-radius: 4px;
			cursor: pointer;
		}

		button:hover {
			background-color: #005bb5;
		}
	</style>
</head>
<body>
	<div id="nc-root"></div>

	<script src="https://cdn.jsdelivr.net/npm/netlify-cms@2.10.192/dist/netlify-cms.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/netlify-identity-widget@1.9.2/build/netlify-identity-widget.min.js"></script>
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			netlifyIdentity.init({
				url: "https://turbolego.netlify.app/.netlify/identity", // Netlify Identity URL
			});

			netlifyIdentity.on('login', (user) => {
				console.log("User logged in:", user);
				window.location.href = '/admin/';
			});

			netlifyIdentity.on('logout', () => {
				console.log("User logged out");
				window.location.href = '/';
			});

			CMS.init({
				config: {
					backend: {
						name: "git-gateway",
						branch: "main",
					},
					media_folder: "src/images/uploads",
					public_folder: "/blog/images/uploads",
				},
			});
		});
	</script>
</body>
</html>
